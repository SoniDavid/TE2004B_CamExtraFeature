# ArUco Viewer Configuration
# Configuration file for ArUco marker detection and depth estimation

camera:
  # Camera stream URL (DroidCam, IP camera, or local camera)
  url: "http://10.22.227.47:4747/video"
  # Buffer size for lower latency 
  buffer_size: 1

aruco:
  # ArUco dictionary type
  # Options: DICT_4X4_50, DICT_5X5_50, DICT_6X6_50, DICT_6X6_250, DICT_7X7_50, etc.
  dictionary_type: "DICT_6X6_250"
  
  # Real-world size
  # MEASURE THE BLACK SQUARE (not including white border)
  marker_size_cm: 15.0
  
  # FOCAL LENGTH in pixels
  # Run utils/calibrate_focal_length.py to get accurate value
  focal_length_px: 490.20

display:
  # Window settings
  window_width: 1280
  window_height: 720
  
  # Initial display states
  aruco_enabled: true
  show_distance: true
  show_id: true
  
  # Default processing mode
  # Options: original, grayscale, edge_detection
  processing_mode: "original"

navigation:
  # Target distance to maintain from ArUco marker (in cm)
  target_distance_cm: 25.0
  
  # Distance tolerance (stop if within this range of target)
  distance_tolerance_cm: 3.0
  
  # Maximum steering angle (range: 0.0 to 1.0)
  max_steering: 1.0
  
  # Steering proportional gain (higher = more aggressive steering)
  # For 1280px width: 0.002 means 100px error = 0.2 steering
  steering_kp: 0.002
  
  # Base throttle when moving forward
  base_throttle: 0.4
  
  # Frame center tolerance for alignment (in pixels)
  frame_center_tolerance: 50
  
  # BLE configuration (connects to ESP32-C3 sensor hub)
  ble:
    device_name: "BLE_Sensor_Hub"
